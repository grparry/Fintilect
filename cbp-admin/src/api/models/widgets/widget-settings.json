{
  "WidgetSettings": {
    "type": "object",
    "description": "Configuration settings for dashboard widgets and their behavior",
    "required": ["dashboard", "widgets"],
    "properties": {
      "dashboard": {
        "type": "object",
        "description": "Dashboard-wide settings for widget management",
        "required": ["initialSortOrder", "nonHideableWidgets"],
        "properties": {
          "initialSortOrder": {
            "type": "object",
            "description": "Initial sort order for dashboard widgets",
            "patternProperties": {
              "^[a-zA-Z0-9-_]+$": {
                "type": "integer",
                "description": "Position index for the widget",
                "minimum": 0
              }
            }
          },
          "nonHideableWidgets": {
            "type": "array",
            "description": "List of widget IDs that cannot be hidden by users",
            "items": {
              "type": "string",
              "pattern": "^[a-zA-Z0-9-_]+$"
            }
          },
          "defaultLayout": {
            "type": "string",
            "description": "Default layout configuration for dashboard widgets in JSON format",
            "default": "{}"
          }
        }
      },
      "widgets": {
        "type": "object",
        "description": "Configuration for individual widget types",
        "properties": {
          "accountSummary": {
            "type": "object",
            "description": "Account summary widget settings",
            "required": ["enabled", "display"],
            "properties": {
              "enabled": {
                "type": "boolean",
                "description": "Whether the account summary widget is enabled",
                "default": true
              },
              "display": {
                "type": "object",
                "description": "Display settings for the account summary widget",
                "properties": {
                  "expandedHeight": {
                    "type": "string",
                    "description": "Height of widget when expanded (in rem)",
                    "pattern": "^\\d+(\\.\\d+)?rem$"
                  },
                  "defaultState": {
                    "type": "string",
                    "enum": ["expanded", "collapsed"],
                    "default": "expanded"
                  }
                }
              },
              "actions": {
                "type": "object",
                "description": "Action links configuration",
                "properties": {
                  "newAccount": {
                    "type": "string",
                    "description": "Link for new account action",
                    "format": "uri-reference"
                  },
                  "creditCardApply": {
                    "type": "string",
                    "description": "Link for credit card application",
                    "format": "uri-reference"
                  },
                  "loanApply": {
                    "type": "string",
                    "description": "Link for loan application",
                    "format": "uri-reference"
                  },
                  "linkAccount": {
                    "type": "string",
                    "description": "Link for account linking",
                    "format": "uri-reference"
                  }
                }
              }
            }
          },
          "scheduledTransfers": {
            "type": "object",
            "description": "Scheduled transfers widget settings",
            "required": ["enabled"],
            "properties": {
              "enabled": {
                "type": "boolean",
                "description": "Whether the scheduled transfers widget is enabled",
                "default": true
              }
            }
          },
          "savedTransfers": {
            "type": "object",
            "description": "Saved transfers widget settings",
            "required": ["enabled"],
            "properties": {
              "enabled": {
                "type": "boolean",
                "description": "Whether the saved transfers widget is enabled",
                "default": true
              }
            }
          },
          "cardlytics": {
            "type": "object",
            "description": "Cardlytics widget settings",
            "required": ["enabled", "display"],
            "properties": {
              "enabled": {
                "type": "boolean",
                "description": "Whether the Cardlytics widget is enabled",
                "default": false
              },
              "display": {
                "type": "object",
                "description": "Display settings for the Cardlytics widget",
                "properties": {
                  "expandedHeight": {
                    "type": "string",
                    "description": "Height of widget when expanded (in rem)",
                    "pattern": "^\\d+(\\.\\d+)?rem$"
                  }
                }
              }
            }
          },
          "savvyMoney": {
            "type": "object",
            "description": "Savvy Money widget settings",
            "required": ["enabled"],
            "properties": {
              "enabled": {
                "type": "boolean",
                "description": "Whether the Savvy Money widget is enabled",
                "default": false
              }
            }
          },
          "moneyDesktop": {
            "type": "object",
            "description": "Money Desktop widget settings",
            "required": ["enabled"],
            "properties": {
              "enabled": {
                "type": "boolean",
                "description": "Whether the Money Desktop widget is enabled",
                "default": false
              }
            }
          },
          "cunexus": {
            "type": "object",
            "description": "Cunexus widget settings",
            "required": ["enabled"],
            "properties": {
              "enabled": {
                "type": "boolean",
                "description": "Whether the Cunexus widget is enabled",
                "default": false
              }
            }
          },
          "billPay": {
            "type": "object",
            "description": "Bill Pay widget settings",
            "required": ["enabled"],
            "properties": {
              "enabled": {
                "type": "boolean",
                "description": "Whether the Bill Pay widget is enabled",
                "default": false
              }
            }
          }
        }
      },
      "customization": {
        "type": "object",
        "description": "Global widget customization settings",
        "properties": {
          "allowReordering": {
            "type": "boolean",
            "description": "Whether users can reorder widgets",
            "default": true
          },
          "allowResizing": {
            "type": "boolean",
            "description": "Whether users can resize widgets",
            "default": true
          },
          "persistUserPreferences": {
            "type": "boolean",
            "description": "Whether to persist user widget preferences",
            "default": true
          },
          "responsiveBreakpoints": {
            "type": "object",
            "description": "Responsive layout breakpoints",
            "properties": {
              "mobile": {
                "type": "integer",
                "description": "Mobile breakpoint in pixels",
                "default": 768
              },
              "tablet": {
                "type": "integer",
                "description": "Tablet breakpoint in pixels",
                "default": 1024
              }
            }
          }
        }
      }
    }
  }
}
